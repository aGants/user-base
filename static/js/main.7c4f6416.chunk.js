(this["webpackJsonpuser-base"]=this["webpackJsonpuser-base"]||[]).push([[0],{116:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a.n(c),i=a(55),o=a.n(i),u=a(69),l=a(15),j=a(70),d=a.n(j),b=a(156),f=a(158),h=a(157),m=a(46),g=a(146),x=a(159),O=Object(g.a)((function(e){return Object(x.a)({root:{minHeight:"80vh",display:"flex",justifyContent:"center",overflow:"hidden"},form:{"& .MuiTextField-root":{width:"90%"}},column:{minWidth:"50%",marginTop:e.spacing(2)},text:{textAlign:"center",margin:e.spacing(1)}})})),p=(a(111),a(35)),v={favs:{}},w=function(e,t){var a=t.payload,n=Object(p.a)({},e.favs);switch(t.type){case"add_fav":return n[a.login.uuid]=[a],Object(p.a)(Object(p.a)({},e),{},{favs:n});case"remove_fav":return n[a.login.uuid].pop(),0===n[a.login.uuid].length&&delete n[a.login.uuid],Object(p.a)(Object(p.a)({},e),{},{favs:n});default:return e}},C=r.a.createContext({favState:v,favDispatch:function(){}}),D=(C.Consumer,C.Provider),y=C,N=a(4),k=r.a.createContext({currentDrag:{},setCurrentDrag:function(){}}),S=function(e){var t=r.a.useState({}),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(N.jsx)(k.Provider,{value:{currentDrag:n,setCurrentDrag:c},children:e.children})},L=k,W=Object(g.a)((function(e){return Object(x.a)({root:{flexDirection:"column",overflow:"hidden"},group:{width:"100%"}})})),_=a(153),B=a(148),E=a(154),F=a(155),H=a(76),J=a.n(H),P=a(56),R=a.n(P),T=Object(g.a)((function(e){return Object(x.a)({root:{paddingLeft:e.spacing(3),flexWrap:"nowrap"},card:{padding:e.spacing(2),minWidth:230,width:550},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},drag:{cursor:"grab","&:active":{cursor:"-webkit-grabbing"}}})})),A=a(150),I=a(151),M=a(152),V=a(75),q=a.n(V),z=function(e){var t=r.a.useContext(L),a=e.user,n=a.registered.date.substr(0,10),c=T(),s=e.favorite,i=r.a.useContext(y);return Object(N.jsx)("div",{className:"card",children:Object(N.jsx)(B.a,{className:s?c.root:"".concat(c.root," ").concat(c.drag),draggable:!s&&!0,onDragStart:function(e){return function(e,a){t.setCurrentDrag(a)}(0,a)},children:Object(N.jsx)(A.a,{elevation:3,className:c.card,children:Object(N.jsxs)(I.a,{container:!0,spacing:3,children:[Object(N.jsx)(I.a,{item:!0,xs:2,children:Object(N.jsx)("img",{className:c.img,width:"70",height:"70",alt:"avatar",src:a.picture.medium})}),Object(N.jsxs)(I.a,{sm:!0,item:!0,className:"card",children:[Object(N.jsxs)(m.a,{gutterBottom:!0,children:[a.name.first," ",a.name.last,", \u0434\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ",n]}),Object(N.jsx)(m.a,{children:a.email})]}),s&&Object(N.jsx)(I.a,{xs:2,item:!0,children:Object(N.jsx)(M.a,{"aria-label":"delete",onClick:function(){return i.favDispatch({type:"remove_fav",payload:a})},children:Object(N.jsx)(q.a,{})})})]})})})})},G=r.a.memo((function(e){var t=r.a.useState(!0),a=Object(l.a)(t,2),n=a[0],c=a[1],s=e.users,i=e.min,o=e.max,u=W(),j=function(e){return e.sort((function(e,t){return e.registered.age>t.registered.age?1:e.registered.age<t.registered.age?-1:0}))}(function(e,t,a){return e.filter((function(e){return e.registered.age>=t&&e.registered.age<=a}))}(s,i,o));return Object(N.jsx)(_.a,{className:u.root,children:void 0===j[0]?Object(N.jsxs)(B.a,{button:!0,disabled:!0,children:[Object(N.jsxs)(E.a,{color:"primary",children:[" ",i," - ",o," "]}),Object(N.jsx)(R.a,{})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(B.a,{button:!0,onClick:function(){c(!n)},className:u.group,children:[Object(N.jsxs)(E.a,{color:"primary",children:[" ",i," - ",o," "]}),n?Object(N.jsx)(J.a,{}):Object(N.jsx)(R.a,{})]}),Object(N.jsx)(F.a,{in:n,unmountOnExit:!0,children:Object(N.jsx)(_.a,{component:"div",children:j.map((function(e){return Object(N.jsx)(z,{user:e},e.login.uuid)}))})})]})})})),K=Object(g.a)((function(e){return Object(x.a)({root:{height:"100%"},drop:{height:"100%",border:"2px solid #3f51b5",margin:"-2px"}})})),Q=function(){var e=K(),t=r.a.useContext(y),a=r.a.useContext(L),n=r.a.useState(!1),c=Object(l.a)(n,2),s=c[0],i=c[1];function o(e){e.preventDefault(),i(!0)}return Object(N.jsx)(_.a,{component:"div",className:s?"".concat(e.drop," "):"".concat(e.root),onDragStart:function(e){return o(e)},onDragLeave:function(e){return function(e){e.preventDefault(),i(!1)}(e)},onDragOver:function(e){return o(e)},onDrop:function(e){return function(e){e.preventDefault(),t.favDispatch({type:"add_fav",payload:a.currentDrag}),i(!1)}(e)},children:Object.keys(t.favState.favs).map((function(e){var a=t.favState.favs[e];return a.length>0?Object(N.jsx)(z,{user:a[0],favorite:!0},a[0].login.uuid):null}))})},U=(a(116),function(){return Object(N.jsx)("div",{className:"loading",children:Object(N.jsx)("svg",{className:"spinner",width:"105px",height:"105px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:Object(N.jsx)("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})})})}),X=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),j=i[0],g=i[1],x=Object(n.useState)(!1),p=Object(l.a)(x,2),C=p[0],y=p[1],k=r.a.useReducer(w,v),L=Object(l.a)(k,2),W={favState:L[0],favDispatch:L[1]},_=O(),B=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,d.a.get("https://randomuser.me/api/?results=5000").then((function(e){c(e.data.results)}));case 4:y(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),y(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){B()}),[]);for(var E=a.filter((function(e){return e.name.first.toLowerCase().includes(j.toLowerCase())||e.name.last.toLowerCase().includes(j.toLowerCase())})),F=[],H=1;H<40;H+=10)F.push(Object(N.jsx)(G,{min:H,max:H+9,users:E},H));return Object(N.jsxs)(b.a,{className:_.root,children:[C?Object(N.jsx)(U,{}):Object(N.jsxs)(S,{children:[Object(N.jsxs)(f.a,{className:_.column,children:[Object(N.jsx)("form",{className:_.form,noValidate:!0,autoComplete:"off",children:Object(N.jsx)(h.a,{label:"\u041f\u043e\u0438\u0441\u043a",placeholder:"\u041f\u043e\u0438\u0441\u043a",multiline:!0,onChange:function(e){return g(e.target.value)}})}),Object(N.jsx)(D,{value:W,children:F})]}),Object(N.jsxs)(f.a,{className:_.column,children:[Object(N.jsx)(m.a,{variant:"h6",component:"h1",className:_.text,children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"}),Object(N.jsx)(D,{value:W,children:Object(N.jsx)(Q,{})})]})]}),Object(N.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"})]})};s.a.render(Object(N.jsx)(X,{}),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.7c4f6416.chunk.js.map